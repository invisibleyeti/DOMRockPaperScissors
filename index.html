<!doctype html>

<html>
<head>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div id="btn">
    <button id="Rock">Rock</button>
    <button id="Paper">Paper</button>
    <button id="Scissors">Scissors</button>
  </div>
  <div class='container'>

  </div>
  <script >
    let rounds = 0;
    let playerWins = 0;
    let computerWins = 0;
    const container = document.querySelector('.container');
    const buttons = document.querySelectorAll('button');
    


    //Play Round checks to see who won the round of RPS and updates the Score
    function playRound(playerSelection, computerSelection){
      if(playerSelection == computerSelection){
        return "You Tie! " + playerSelection + " equals " + computerSelection;
      }
      let loseMessage = "You Lose! " + computerSelection+ " beats " + playerSelection
      let winMessage = "You Win! " + playerSelection + " beats " + computerSelection;
      switch(playerSelection){
        case "Rock":
          if(computerSelection == "Paper"){
            computerWins ++;
              return  loseMessage;
              
          }
          else{
            playerWins ++;
              return winMessage;
              
          }
        break;

        case "Paper":
          if(computerSelection == "Scissors"){
            computerWins ++;
            return loseMessage;
            
          }
          else{
            playerWins ++;
            return winMessage;
           
          }
        break;

        case "Scissors":
          if(computerSelection == "Rock"){
            computerWins ++;
            return loseMessage;
            
          }
          else{
            playerWins ++;
            return winMessage;
            
          }
        break;

        default:
        return "Input was not correct"
      }
    }
    
    function computerChoice(){
      
      let x = Math.floor(Math.random() * 3);
      if (x == 0){
        return "Rock";
      }
      else if(x == 1){
        return "Paper";
      }else{
        return "Scissors";
      }
    }
    //creates new p tag and adds it to the div called container
    function addParagraphTag(str){
      const p = document.createElement('p');
      p.innerHTML = str;
      container.append(p);
    }

    //resets the score of the game
    function resetGame(){
      playerWins = 0;
      computerWins = 0;
    }


    function game(){
      rounds = 0;
      playerWins = 0;
      computerWins = 0;
      buttons.forEach((button) => {
        button.onclick = function(){
          let computer = computerChoice();
          let player =  "" + button.id;
          addParagraphTag("<p>" + playRound(player, computer) +" The Score is player " + playerWins + " and computer " + computerWins  +"</p>");
          rounds ++;
          if(playerWins >= 3){
              addParagraphTag("<p>You won " + playerWins + "-" + computerWins + "</p>");
              resetGame();
          }else if(computerWins >= 3){
            addParagraphTag("<p>You Lose " + playerWins + "-" + computerWins + "</p>");
            resetGame();
          }
          };
          });
      }
    let r = "Rock"
    let s = "Scissors"
    let p = "Paper"
    game();
</script>
</body>
</html>